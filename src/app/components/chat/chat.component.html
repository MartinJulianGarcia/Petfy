<div class="chat-container">
  <!-- Header azul -->
  <div class="header">
    <div class="header-left">
      <button class="back-button" (click)="goBack()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19 12H5M12 19l-7-7 7-7" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
    <div class="header-center">
      <h1>Chat</h1>
    </div>
    <div class="header-right">
      <button class="options-button">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 12h.01M12 6h.01M12 18h.01" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Información del paseador -->
  <div class="walker-info-bar">
    <div class="walker-avatar">
      <span class="avatar-text">{{ walkerName.charAt(0) }}</span>
    </div>
    <div class="walker-details">
      <h3 class="walker-name">{{ walkerName }}</h3>
      <span class="walker-status">Paseador asignado</span>
    </div>
    <div class="walker-actions">
      <button class="action-button">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Área de mensajes -->
  <div class="messages-container">
    <div class="messages-list">
      <div 
        class="message" 
        [class.user-message]="message.sender === 'user'"
        [class.walker-message]="message.sender === 'walker'"
        *ngFor="let message of messages">
        
        <div class="message-avatar" *ngIf="message.sender === 'walker'">
          <span class="avatar-text">{{ walkerName.charAt(0) }}</span>
        </div>
        
        <div class="message-content">
          <div class="message-bubble">
            <p class="message-text">{{ message.text }}</p>
            <span class="message-time">{{ formatTime(message.timestamp) }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Barra de entrada de mensajes -->
  <div class="input-container">
    <div class="input-actions">
      <button class="action-button">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <button class="action-button">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M14.828 14.828a4 4 0 0 1-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <button class="action-button">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
    
    <div class="input-field-container">
      <input 
        type="text" 
        [(ngModel)]="newMessage"
        (keyup.enter)="sendMessage()"
        placeholder="Escribe un mensaje..."
        class="message-input">
      <button class="send-button" (click)="sendMessage()" [disabled]="!newMessage.trim()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </div>
</div>
